
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>pmfp.utils package &#8212; pmfp 4.0.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="setup.html" />
    <link rel="prev" title="pmfp.features.cmd_test.cmd_test_unittest package" href="pmfp.features.cmd_test.cmd_test_unittest.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pmfp-utils-package">
<h1>pmfp.utils package<a class="headerlink" href="#pmfp-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pmfp.utils.fs_utils">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-pmfp.utils.fs_utils" title="Permalink to this headline">¶</a></h2>
<p>文件系统相关的通用组件.</p>
<dl class="function">
<dt id="pmfp.utils.fs_utils.get_abs_path">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">get_abs_path</code><span class="sig-paren">(</span><em class="sig-param">path_str: str</em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#get_abs_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.get_abs_path" title="Permalink to this definition">¶</a></dt>
<dd><p>由路径字符串获取绝对路径.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path_str</strong> (<em>str</em>) – 路径字符创</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>路径字符串的绝对路径</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.get_cache_dir">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">get_cache_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#get_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.get_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>获取缓存根目录.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.get_global_cc">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">get_global_cc</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#get_global_cc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.get_global_cc" title="Permalink to this definition">¶</a></dt>
<dd><p>获取全局c编译器.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.get_global_python">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">get_global_python</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#get_global_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.get_global_python" title="Permalink to this definition">¶</a></dt>
<dd><p>获取全局python.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.init_pmfprc">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">init_pmfprc</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#init_pmfprc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.init_pmfprc" title="Permalink to this definition">¶</a></dt>
<dd><p>初始化pmfp的配置.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.iter_dir_to_end">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">iter_dir_to_end</code><span class="sig-paren">(</span><em class="sig-param">path: pathlib.Path, match: Callable[[pathlib.Path], bool], *, skip_dir: Optional[Callable[[pathlib.Path], bool]] = None, succ_cb: Optional[Callable[[pathlib.Path], None]] = None, fail_cb: Optional[Callable[[pathlib.Path], None]] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#iter_dir_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.iter_dir_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>遍历文件夹到底,并按指定的函数来做区分.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>Path</em>) – 文件夹路径</p></li>
<li><p><strong>match</strong> (<em>Callable</em><em>[</em><em>[</em><em>Path</em><em>]</em><em>,</em><em>bool</em><em>]</em>) – 筛选条件</p></li>
<li><p><strong>succ_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>Path</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 路径满足筛选条件后执行的回调函数. Defaults to None.</p></li>
<li><p><strong>fail_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>Path</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 路径不满足筛选条件执行的回调函数. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.remove_readonly">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">remove_readonly</code><span class="sig-paren">(</span><em class="sig-param">func: Callable</em>, <em class="sig-param">path: str</em>, <em class="sig-param">_: Any</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#remove_readonly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.remove_readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the readonly bit and reattempt the removal.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.fs_utils.tempdir">
<code class="sig-prename descclassname">pmfp.utils.fs_utils.</code><code class="sig-name descname">tempdir</code><span class="sig-paren">(</span><em class="sig-param">p: str, cb: Callable[[pathlib.Path], None]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/fs_utils.html#tempdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.fs_utils.tempdir" title="Permalink to this definition">¶</a></dt>
<dd><p>临时文件夹相关处理.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>str</em>) – 临时文件夹所在的文件夹</p></li>
<li><p><strong>cb</strong> (<em>Callable</em><em>[</em><em>[</em><em>Path</em><em>]</em><em>,</em><em>None</em><em>]</em>) – 创建临时文件夹后的操作.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pmfp.utils.git_utils"></span><p>git相关的动作.</p>
<dl class="exception">
<dt id="pmfp.utils.git_utils.NoRemoteURL">
<em class="property">exception </em><code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">NoRemoteURL</code><a class="reference internal" href="_modules/pmfp/utils/git_utils.html#NoRemoteURL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.NoRemoteURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>目标项目没有指定远程仓库.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.get_latest_commit">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">get_latest_commit</code><span class="sig-paren">(</span><em class="sig-param">p: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#get_latest_commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.get_latest_commit" title="Permalink to this definition">¶</a></dt>
<dd><p>获取git项目的最近一个master分支的commit号.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>p</strong> (<em>str</em>) – git项目位置</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>commit号</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.git_add_remote">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">git_add_remote</code><span class="sig-paren">(</span><em class="sig-param">p: str</em>, <em class="sig-param">remote_url: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#git_add_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.git_add_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>为本地git仓库关联远程仓库.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>str</em>) – 本地仓库路径</p></li>
<li><p><strong>remote_url</strong> (<em>str</em>) – 远程仓库url</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.git_clone">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">git_clone</code><span class="sig-paren">(</span><em class="sig-param">url: str, to: str, *, branch: str = 'master', succ_cb: Optional[Callable[[str], None]] = None, fail_cb: Optional[Callable[[str], None]] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#git_clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.git_clone" title="Permalink to this definition">¶</a></dt>
<dd><p>从远程克隆项目到本地.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – 远程url</p></li>
<li><p><strong>to</strong> (<em>str</em>) – 本地项目路径</p></li>
<li><p><strong>branch</strong> (<em>str</em><em>, </em><em>optional</em>) – 拉取的分支. Defaults to “master”.</p></li>
<li><p><strong>succ_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 拉取成功的回调. Defaults to None.</p></li>
<li><p><strong>fail_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 拉取失败的回调. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.git_init">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">git_init</code><span class="sig-paren">(</span><em class="sig-param">p: str</em>, <em class="sig-param">*</em>, <em class="sig-param">remote_url: Optional[str] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#git_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.git_init" title="Permalink to this definition">¶</a></dt>
<dd><p>初始化本地git仓库.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>str</em>) – 本地git仓库位置</p></li>
<li><p><strong>remote_url</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – 远程关联仓库url. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.git_push">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">git_push</code><span class="sig-paren">(</span><em class="sig-param">p: str</em>, <em class="sig-param">msg: str = 'update'</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#git_push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.git_push" title="Permalink to this definition">¶</a></dt>
<dd><p>git项目推代码到远端仓库.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>str</em>) – 本地仓库位置</p></li>
<li><p><strong>msg</strong> (<em>str</em>) – 注释消息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.git_utils.git_tag">
<code class="sig-prename descclassname">pmfp.utils.git_utils.</code><code class="sig-name descname">git_tag</code><span class="sig-paren">(</span><em class="sig-param">p: str</em>, <em class="sig-param">version: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/git_utils.html#git_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.git_utils.git_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>为代码打tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>str</em>) – 本地仓库位置</p></li>
<li><p><strong>version</strong> (<em>str</em>) – 项目代码版本</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pmfp.utils.project_rc_utils"></span><dl class="function">
<dt id="pmfp.utils.project_rc_utils.write_rc">
<code class="sig-prename descclassname">pmfp.utils.project_rc_utils.</code><code class="sig-name descname">write_rc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pmfp/utils/project_rc_utils.html#write_rc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.project_rc_utils.write_rc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-pmfp.utils.remote_cache_utils"></span><dl class="class">
<dt id="pmfp.utils.remote_cache_utils.ComponentTemplate">
<em class="property">class </em><code class="sig-prename descclassname">pmfp.utils.remote_cache_utils.</code><code class="sig-name descname">ComponentTemplate</code><span class="sig-paren">(</span><em class="sig-param">component_path: str</em>, <em class="sig-param">source_pack: pmfp.utils.remote_cache_utils.SourcePack</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#ComponentTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.ComponentTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>组件模板类.</p>
<dl class="attribute">
<dt id="pmfp.utils.remote_cache_utils.ComponentTemplate.TENPLATE_URL">
<code class="sig-name descname">TENPLATE_URL</code><em class="property"> = '{host}::{repo_name}::{tag}::{component_path}'</em><a class="headerlink" href="#pmfp.utils.remote_cache_utils.ComponentTemplate.TENPLATE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.ComponentTemplate.as_component_string">
<code class="sig-name descname">as_component_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#ComponentTemplate.as_component_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.ComponentTemplate.as_component_string" title="Permalink to this definition">¶</a></dt>
<dd><p>构造组件模板字符串.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.ComponentTemplate.from_component_string">
<em class="property">classmethod </em><code class="sig-name descname">from_component_string</code><span class="sig-paren">(</span><em class="sig-param">component_string: str</em><span class="sig-paren">)</span> &#x2192; pmfp.utils.remote_cache_utils.ComponentTemplate<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#ComponentTemplate.from_component_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.ComponentTemplate.from_component_string" title="Permalink to this definition">¶</a></dt>
<dd><p>从组件模板字符串构造组件模板对象.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.ComponentTemplate.to_component">
<code class="sig-name descname">to_component</code><span class="sig-paren">(</span><em class="sig-param">cache_dir: str</em>, <em class="sig-param">root: str</em>, <em class="sig-param">**kwargs: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#ComponentTemplate.to_component"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.ComponentTemplate.to_component" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pmfp.utils.remote_cache_utils.SourcePack">
<em class="property">class </em><code class="sig-prename descclassname">pmfp.utils.remote_cache_utils.</code><code class="sig-name descname">SourcePack</code><span class="sig-paren">(</span><em class="sig-param">repo_name: str</em>, <em class="sig-param">*</em>, <em class="sig-param">tag: str = 'latest'</em>, <em class="sig-param">host: str = 'github.com'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>资源包类.</p>
<dl class="attribute">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.TENPLATE_URL">
<code class="sig-name descname">TENPLATE_URL</code><em class="property"> = '{host}::{repo_name}::{tag}'</em><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.TENPLATE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.as_sourcepack_string">
<code class="sig-name descname">as_sourcepack_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.as_sourcepack_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.as_sourcepack_string" title="Permalink to this definition">¶</a></dt>
<dd><p>构造资源包字符串.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.cache">
<code class="sig-name descname">cache</code><span class="sig-paren">(</span><em class="sig-param">cache_dir: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存资源包到本地.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.clone_source_pack">
<code class="sig-name descname">clone_source_pack</code><span class="sig-paren">(</span><em class="sig-param">cache_dir: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.clone_source_pack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.clone_source_pack" title="Permalink to this definition">¶</a></dt>
<dd><p>克隆资源包到本地缓存临时文件夹.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.from_sourcepack_string">
<em class="property">classmethod </em><code class="sig-name descname">from_sourcepack_string</code><span class="sig-paren">(</span><em class="sig-param">sourcepack_string: str</em><span class="sig-paren">)</span> &#x2192; pmfp.utils.remote_cache_utils.SourcePack<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.from_sourcepack_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.from_sourcepack_string" title="Permalink to this definition">¶</a></dt>
<dd><p>从资源包字符串构造资源包对象.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.git_url">
<code class="sig-name descname">git_url</code><span class="sig-paren">(</span><em class="sig-param">schema='https'</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.git_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.git_url" title="Permalink to this definition">¶</a></dt>
<dd><p>构造资源包的git仓库地址.</p>
</dd></dl>

<dl class="method">
<dt id="pmfp.utils.remote_cache_utils.SourcePack.source_pack_path">
<code class="sig-name descname">source_pack_path</code><span class="sig-paren">(</span><em class="sig-param">cache_dir_path: pathlib.Path</em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference internal" href="_modules/pmfp/utils/remote_cache_utils.html#SourcePack.source_pack_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.remote_cache_utils.SourcePack.source_pack_path" title="Permalink to this definition">¶</a></dt>
<dd><p>构造资源包的本地路径.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-pmfp.utils.run_command_utils"></span><p>执行命令行任务的通用组件.</p>
<dl class="function">
<dt id="pmfp.utils.run_command_utils.default_fail_cb">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">default_fail_cb</code><span class="sig-paren">(</span><em class="sig-param">content: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#default_fail_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.default_fail_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>当执行失败时默认执行的回调.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.default_succ_cb">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">default_succ_cb</code><span class="sig-paren">(</span><em class="sig-param">content: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#default_succ_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.default_succ_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>当执行成功时默认执行的回调.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.get_golang_version">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">get_golang_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#get_golang_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.get_golang_version" title="Permalink to this definition">¶</a></dt>
<dd><p>获取本地golang的版本.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.get_local_python_path">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">get_local_python_path</code><span class="sig-paren">(</span><em class="sig-param">env_path_str: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#get_local_python_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.get_local_python_path" title="Permalink to this definition">¶</a></dt>
<dd><p>获取本地环境python解释器的地址.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>env_path_str</strong> (<em>str</em>) – python本地环境目录.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>python位置字符串</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.get_node_version">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">get_node_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#get_node_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.get_node_version" title="Permalink to this definition">¶</a></dt>
<dd><p>获取系统中node的版本.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.get_protoc_version">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">get_protoc_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#get_protoc_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.get_protoc_version" title="Permalink to this definition">¶</a></dt>
<dd><p>获取本地protoc的版本.</p>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.run_command_utils.run_command">
<code class="sig-prename descclassname">pmfp.utils.run_command_utils.</code><code class="sig-name descname">run_command</code><span class="sig-paren">(</span><em class="sig-param">command: str, *, cwd: Optional[Any] = None, env: Optional[Any] = None, succ_cb: Optional[Callable[[str], None]] = None, fail_cb: Optional[Callable[[str], None]] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/run_command_utils.html#run_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.run_command_utils.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>执行命令行命令.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – 命令行命令</p></li>
<li><p><strong>succ_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>str</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 执行成功的回调函数. Defaults to None.</p></li>
<li><p><strong>fail_cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>str</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 执行失败的回调函数. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pmfp.utils.schema_utils"></span><p>用于检测数据模式的公用组件.</p>
<dl class="function">
<dt id="pmfp.utils.schema_utils.is_validated">
<code class="sig-prename descclassname">pmfp.utils.schema_utils.</code><code class="sig-name descname">is_validated</code><span class="sig-paren">(</span><em class="sig-param">instance: Dict[str, Any], schema: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/pmfp/utils/schema_utils.html#is_validated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.schema_utils.is_validated" title="Permalink to this definition">¶</a></dt>
<dd><p>检测数据是否符合模式.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em>) – 待检测数据</p></li>
<li><p><strong>schema</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em>) – 需要满足的模式</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>是否通过验证</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pmfp.utils.template_utils"></span><p>模板相关的通用工具.</p>
<dl class="function">
<dt id="pmfp.utils.template_utils.jsontemplate_2_content">
<code class="sig-prename descclassname">pmfp.utils.template_utils.</code><code class="sig-name descname">jsontemplate_2_content</code><span class="sig-paren">(</span><em class="sig-param">template: str</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/template_utils.html#jsontemplate_2_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.template_utils.jsontemplate_2_content" title="Permalink to this definition">¶</a></dt>
<dd><p>将模板转换为文件内容.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>str</em>) – 模板字符串</p></li>
<li><p><strong>kwargs</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>str</em><em>]</em>) – 由模板构造内容的关键字</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.template_utils.template_2_content">
<code class="sig-prename descclassname">pmfp.utils.template_utils.</code><code class="sig-name descname">template_2_content</code><span class="sig-paren">(</span><em class="sig-param">template: str</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/template_utils.html#template_2_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.template_utils.template_2_content" title="Permalink to this definition">¶</a></dt>
<dd><p>将模板转换为文件内容.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>str</em>) – 模板字符串</p></li>
<li><p><strong>kwargs</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em><em>str</em><em>]</em>) – 由模板构造内容的关键字</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pmfp.utils.url_utils"></span><p>与url字符串相关的工具代码.</p>
<dl class="function">
<dt id="pmfp.utils.url_utils.get_source_from_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">get_source_from_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#get_source_from_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.get_source_from_url" title="Permalink to this definition">¶</a></dt>
<dd><p>从指定url中回去源数据.</p>
<p>注意只能获取静态http资源.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – url地址</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AttributeError</strong> – url未成功返回</p></li>
<li><p><strong>AttributeError</strong> – 未支持的类型</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>内容文本</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.http_query">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">http_query</code><span class="sig-paren">(</span><em class="sig-param">url: str, method: str, *, auth: Optional[str] = None, auth_type: Optional[str] = None, payload: Optional[str] = None, payload_type: Optional[str] = None, stream: bool = False, verify: bool = False, cert: Optional[str] = None, cb: Optional[Callable[[str], None]] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#http_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.http_query" title="Permalink to this definition">¶</a></dt>
<dd><p>http请求并打印结果.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – 要访问的http资源的地址</p></li>
<li><p><strong>method</strong> (<em>str</em>) – 访问资源的方法</p></li>
<li><p><strong>auth</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – 用户身份验证字符串. Defaults to None.</p></li>
<li><p><strong>auth_type</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – 用户身份的验证类型. Defaults to None.</p></li>
<li><p><strong>payload</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – 请求负载. Defaults to None.</p></li>
<li><p><strong>payload_type</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – 请求的负载类型. Defaults to None.</p></li>
<li><p><strong>stream</strong> (<em>bool</em><em>, </em><em>optional</em>) – 返回是否为流数据. Defaults to False.</p></li>
<li><p><strong>verify</strong> (<em>bool</em><em>, </em><em>optional</em>) – https请求是否验证. Defaults to False.</p></li>
<li><p><strong>cert</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – https请求的客户端认证文件. Defaults to None.</p></li>
<li><p><strong>cb</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>str</em><em>]</em><em>,</em><em>None</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – 获取到数据后的处理回调. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.is_file_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">is_file_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#is_file_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.is_file_url" title="Permalink to this definition">¶</a></dt>
<dd><p>判断url是否是文件协议相关的url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – 待判断的url字符串</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>是否是url</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.is_http_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">is_http_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#is_http_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.is_http_url" title="Permalink to this definition">¶</a></dt>
<dd><p>判断url是否是http请求的url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – 待判断的url字符串</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>是否是url</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.is_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">is_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#is_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.is_url" title="Permalink to this definition">¶</a></dt>
<dd><p>判断url是否是url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – 待判断的url字符串</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>是否是url</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.parse_file_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">parse_file_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#parse_file_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.parse_file_url" title="Permalink to this definition">¶</a></dt>
<dd><p>从file url中提取文件系统中的路径.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – file url</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>file url中提取出的路径</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pmfp.utils.url_utils.parse_http_url">
<code class="sig-prename descclassname">pmfp.utils.url_utils.</code><code class="sig-name descname">parse_http_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pmfp/utils/url_utils.html#parse_http_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pmfp.utils.url_utils.parse_http_url" title="Permalink to this definition">¶</a></dt>
<dd><p>从file url中提取文件系统中的路径.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – file url</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>file url中提取出的路径</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pmfp.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pmfp.utils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pmfp</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="pmfp.html">pmfp package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pmfp.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pmfp.entrypoint.html">pmfp.entrypoint package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pmfp.features.html">pmfp.features package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pmfp.utils package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-pmfp.utils.fs_utils">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pmfp.utils">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pmfp.html#module-pmfp.const">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmfp.html#module-pmfp">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test.html">test package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="pmfp.html">pmfp package</a><ul>
      <li>Previous: <a href="pmfp.features.cmd_test.cmd_test_unittest.html" title="previous chapter">pmfp.features.cmd_test.cmd_test_unittest package</a></li>
      <li>Next: <a href="setup.html" title="next chapter">&lt;no title&gt;</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, hsz12.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pmfp.utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>