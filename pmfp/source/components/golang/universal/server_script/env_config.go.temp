package script

import (
	"github.com/spf13/viper"
)

// InitEnvConfig 从环境变量获得的配置内容初始化配置
func InitEnvConfig() (ConfigType, error) {
	var envConfig ConfigType = ConfigType{}
	EnvConfigViper := viper.New()
	EnvConfigViper.SetEnvPrefix("$project_name") // will be uppercased automatically
	EnvConfigViper.BindEnv("address")
	EnvConfigViper.BindEnv("log_level")
	err := EnvConfigViper.Unmarshal(&envConfig)
	return envConfig, err
}
